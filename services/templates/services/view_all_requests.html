{% extends 'base.html' %}
{% block content %}
<div class = "container">
    <h1 class = "text-center">View All Requests</h1>
    <hr/>
    <table class="table table-striped table-responsive">
        <thead>
          <tr class = "text-center">
            <th scope="col">SNo</th>
            <th scope="col">Username</th>
            <th scope="col">Location</th>
            <th scope="col">Requested Blood</th>
            <th scope="col">Requested Date</th>
            <th scope="col">Required By</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for request in requests %}
          {% if request.status == 'Pending' %}
            <tr class = "text-center table-info">
          {% else %}
            <tr class = "text-center ">
          {% endif %}
          
            <th scope="row">{{forloop.counter}}</th>
            <td >{{request.donor.user.username}}</td>
            <td>{{request.location}}</td>
            <td>{{request.blood_type}}</td>
            <td>{{request.date_requested|date:'d M,Y'}}</td>
            <td>{{request.date_requested|date:'d M,Y'}}</td>
            <td>
              <a href="#"><i class="fa-solid fa-pen"></i></a>
              <a href="#"><i class="fa-solid fa-trash-can"></i></a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
</div>
{% endblock %}